---
description: API Reader auth — require explicit secret/env reference names
alwaysApply: true
---

# API Reader Auth

When using the api-reader skill or calling APIs that may require a bearer token:

1. **Always check `.env` for `KEYVAULT_NAME`**  
   Load or read the project `.env` (if present) and use `KEYVAULT_NAME` when resolving auth.

2. **Use explicit Key Vault secret name only**  
   If `KEYVAULT_NAME` is set and Key Vault auth is required, require an explicit secret name from the user (or explicit CLI arg) before making API requests. Do not assume a default secret name.

3. **Order of resolution**  
   Prefer: (1) `.env` → `KEYVAULT_NAME`; (2) explicit secret/env reference name from user; (3) runtime retrieval using that name. Never ask the user to paste the token.

4. **Never read or expose Key Vault secret values**  
   Always use the secret name and pass it to the tool or script so it loads the value directly from Key Vault. The AI must never read, display, log, or use the actual secret value in any output or reasoning—only reference names. Let the runtime retrieve the value.

5. **If unclear, ask; always report reference used**  
   If the secret/env name is missing or ambiguous, stop and ask the user to confirm the exact name before running any authenticated call. Always state which secret/env reference name was used without revealing the value.
